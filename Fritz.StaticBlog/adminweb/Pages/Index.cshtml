@page
@model Fritz.StaticBlog.adminweb.Pages.IndexModel
@using Fritz.StaticBlog.Data
<h1>Website Administration and Management</h1>

@if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
  <div class="alert alert-danger">
    @Model.ErrorMessage
  </div>
}

@if (@Model._Configuration[WebsiteConfig.PARM_OUTPUTPATH] == AppContext.BaseDirectory)
{
  <p>
    <strong>WARNING: The output path is not set.  Please set the output path in the configuration.</strong>
  </p>

  <form action="/" method="post">
    <label for="WorkingFolder">Website Working Folder:</label>
    @Html.TextBoxFor(m => m.WorkingFolder)

    <input type="submit" value="Try it" />
  </form>

}
else
{

	<h3>Running Configuration:</h3>

  <dl>
    <dt>OutputPath</dt>
    <dd>@Model._Configuration[WebsiteConfig.PARM_OUTPUTPATH]</dd>
    <dt>WorkingDirectory</dt>
    <dd>@Model._Configuration[WebsiteConfig.PARM_WORKINGDIRECTORY]</dd>
  </dl>

	<h3>Content Managed:</h3>
	<!-- List counts of blog posts and pages -->

}
